Ważne jest aby poprawnie zamknąć system. Jeżeli tego nie zrobisz
stracisz dane i uszkodzisz system plików. Dzieje się tak dlatego,
ponieważ Linux nie zapisuje danych od razu, robi to co pewien okres.
Taki sposób działania znacząco przyśpiesza działanie programów, jednak
wymaga poprawnego zamknięcia systemu.

Poleceniem odpowiedzialny za prawidłowe wyłączenie Linuxa jest
shutdown.

Programowi można podać czas oczekiwania przed zamknięciem,
umożliwiając w ten sposób użytkownikom szansę zamknięcia programów i
wylogowania się. Przykład:
{{{
# shutdown -h +10 'Zainstalujemy nowy dysk. System będzie
> dostępny w ciągu 3 godzin.'
#
}}}

Wiadomość zostanie wysłana wszystkim użytkownikom, jeżeli nie
zastosują się do niej mogą utracić dane. Oto jej przykładowa postać:
{{{
Broadcast message from root (ttyp0) Wed Aug  2 01:03:25 1995...

Zainstalujemy nowy dysk. System będzie
dostępny w ciągu 3 godzin.
The system is going DOWN for system halt in 10 minutes !!
}}}

Wiadomość będzie powtarzana coraz częściej w miarę upływu czasu.

Kiedy rozpoczyna się prawdziwe wyłączanie systemu wszelkie procesy
dostają sygnał SIGTERM (po pewnym odstępie czasu SIGKILL), systemy
plików zostają odmontowane (oprócz głównego). init wypisuje informacje
o możliwości wyłączenia komputera. Wtedy i tylko wtedy możesz wyłączyć
zasilanie.

Czasami, rzadko na systemach porządnie zarządzanych, dochodzi do
sytuacji gdy coś nie zadziała. Dla przykładu: jądro panikuje i wywala
się, wtedy możesz się jedynie modlić abyś nie stracił zbyt wiele i
wyłączyć zasilanie. Jeżeli zdarzyło się coś mniej poważnego (np. ktoś
ci siekierą klawiaturę rozwalił ;-) pomyśl jak możesz zmusić system do
poprawnego zamknięcia (w tym przypadku logowanie przez sieć rozwiązuje
problem), jeżeli taka możliwość nie istnieje spróbuj odłączyć wszelkie
zewnętrzne bodźce (np. odłącz sieć, itp.), poczekaj aż update kilka
razy zapisze dane na dysku (kilka minut) po czym wyłącz zasilanie.

Niektórzy lubią zamykać system wywołując sync ^[1]^ trzy razy, po
czym czekają na zakończenie dyskowych operacji we/wy i wyłączają
zasilanie. Jeżeli nie ma działających programów działa to, prawie, tak
samo jak shutdown. Jednakże, nie następuje odmontowanie systemu plików
co powoduje, że podczas następnego startowania dyski zostaną
sprawdzone. Nie zaleca się takiego podejścia.

(Jeżeli się zastanawiasz: powodem trzykrotnego wywołania sync jest to,
iż we wczesnych dniach Unixa osobne trzykrotne wpisywanie polecenia
dawało dość czasu na zakończenie wszelkich operacji we/wy.)

^[1]^
sync wymusza aktualizacje dysków.
