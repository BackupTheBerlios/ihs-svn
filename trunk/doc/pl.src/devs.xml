<?xml version="1.0" encoding="iso-8859-2"?>
<chapter id="devs">
	<title>Podrêcznik programisty</title>
	
	<section id="design">
		<title>Rozwa¿ania projektowe</title>

		<section id="design.related">
			<title>Oprogramowanie i sprzêt</title>
			<para>
				Podstaw± IHS bêdzie stanowi³ system operacyjny kompatybilny
				z Uniksem, w tym wypadku domy¶lnie bêdzie to Linux. Docelowo
				wspierane bêd± równie¿ takie systemy jak OpenBSD (rodzina *BSD),
				Solaris. Wykorzystywane bêd± dwie dystrybucje Linuksa - SuSe
				oraz Fedora Core (poniewa¿ s± to jedne z najpopularniejszych
				dystrybucji, czêsto u¿ywane s± na serwerach).
			</para>

			<para>
				IHS opiera³ siê bêdzie o takie elementy jak serwer aplikacji J2EE, 
				MTA, Virtual Qmail. Zak³adana jest 
				mo¿liwo¶æ wymiany ka¿dej z aplikacji odpowiedzialnych
				za poszczególne funkcje - dlatego projekt bêdzie musia³
				byæ modularny, z wymiennymi, kompatybilnymi ze sob±
				czê¶ciami.
			</para>
			
			<para>
				Poniewa¿ jedyn± dostêpn± w czasie realizacji projektu,
				platform± sprzêtow± jest x86 projekt bêdzie realizowany w oparciu o ni±.
				Nie wykluczone jest natomiast u¿ywanie systemu na
				innych architekturach. Poniewa¿ na serwerach coraz
				czê¶ciej wykorzystywane s± procesory IA-64 warto by³oby
				jak najszybciej przygotowywaæ system w wersji na t±
				architekturê.
			</para>
		</section>

		<section id="design.users">
			<title>U¿ytkownicy systemu</title>
			<para>
				Docelowymi grupami u¿ytkowników s±:
			</para>
			<formalpara>
				<title>Normalni u¿ytkownicy</title>
				<para>
					Nie posiadaj±, lub posiadaj±
					znikom± wiedzê na temat funkcjonowania systemu, 
					zainteresoany s± tylko wykorzystaniem
					¶wiadczonych przez system us³ug, wiedza
					informatyczna nie jest od nich wymagana; najmniejsze
					uprawnienia;
				</para>
			</formalpara>
			<formalpara>
				<title>Administratorzy domen</title>
				<para>
					Posiadaj± wiedzê
					na temat opcji oferowanych przez system,
					ich wykorzystywania w zakresie prowadzonej
					przez nich dzia³alno¶ci, zainteresowani
					s± wykorzystywaniem us³ug udostêpnianych przez
					serwer oraz ich podstawow± konfiguracj± (w³±czanie,
					wy³±czanie, itp.), wiedza informatyczna nie jest
					od nich wymagana; uprawnienia poszerzone o zarz±dzanie
					us³ugami zwi±zanymi z zarz±dzan± domen±;
				</para>
			</formalpara>
			<formalpara>
				<title>Administratorzy systemu</title>
				<para>
					Posiadaj± wiedzê
					na temat ¶rodowiska w jakim pracuje
					IHS,  instalacji oraz konfiguracji
					oprogramowania w tym ¶rodowisku, wymagana
					jest podstawowa znajomo¶æ wykorzystywanego
					przez IHS oprogramowania (np. instalacja
					wymaganych programów), znajomo¶æ systemu IHS;
					posiadaj± nieograniczone prawa;
				</para>
			</formalpara>
			<formalpara>
				<title>Programi¶ci</title>
				<para>
					Posiadaj± wiedzê na temat
					funkcji oferowanych przez IHS, 
					architektury systemu, wykorzystywanych
					baz danych, opcji konfiguracyjnych, protoko³ó³
					komunikacyjnych, udostêpnianego API; znajomo¶æ
					informacji takich jak system operacyjny danej
					instalacji, wykorzystywane programy powinny
					byæ dla nich bez znaczenia; nie stanowi± bezpo¶rednich
					u¿ytkowników systemu;
				</para>
			</formalpara>

			<para>
				Ka¿da z grup u¿ytkowników musi byæ dynamicznie
				rozpoznawana. Jedna instalacja IHS musi byæ
				w stanie obs³u¿yæ ka¿dy rodzaj u¿ytkownika, na podstawie
				informacji przekazywanych od niego ustalana jest
				przynale¼no¶æ do danej grupy oraz adaptowane s± 
				udostêpniane funkcje. Powinna istnieæ równie¿ mo¿liwo¶æ
				limitowania dostêpu do danej instalacji tylko do
				u¿ytkowników wybranej grupy.
			</para>
		</section>

		<section id="design.reqs">
			<title>Analiza wymagañ</title>
			
			<section id="design.reqs.soft">
				<title>Wymagania dotycz±ce sprzêtu i oprogramowania</title>
		
				<table frame="all" id="tab.reqs.soft">
					<title>Wymagania dotycz±ce sprzêtu i oprogramowania</title>
					<tgroup cols="3">
						<colspec colwidth="1*"/>
						<colspec colwidth="1*"/>
						<colspec colwidth="8*"/>
						<thead>
							<row>
								<entry>Id.</entry>
								<entry>Priorytet</entry>
								<entry>Wymaganie</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry>RS-1</entry>
								<entry>1</entry>
								<entry>Program bêdzie dzia³a³ pod systemami Linux, dystrybucja SuSe >= 9.3 oraz Fedora Core >= 4</entry>
							</row>
							<row>
								<entry>RS-2</entry>
								<entry>2</entry>
								<entry>Program bêdzie dzia³a³ pod systemami OpenBSD >= 3.8, NetBSD >= 3.0</entry>
							</row>
							<row>
								<entry>RS-3</entry>
								<entry>3</entry>
								<entry>Program bêdzie dzia³a³ pod innymi systemami Unix (np. Solaris, HP-UX)</entry>
							</row>
							<row>
								<entry>RS-4</entry>
								<entry>1</entry>
								<entry>Program bêdzie dzia³a³ pod serwerem Tomcat >= 5</entry>
							</row>
							<row>
								<entry>RS-5</entry>
								<entry>2</entry>
								<entry>Program bêdzie dzia³a³ pod serwerem JBoss</entry>
							</row>
							<row>
								<entry>RS-6</entry>
								<entry>3</entry>
								<entry>Program bêdzie dzia³a³ pod serwerami Oracle Application Server, WebLogic, Websphere</entry>
							</row>
							<row>
								<entry>RS-7</entry>
								<entry>1</entry>
								<entry>Mo¿liwe bêdzie wykorzystanie bazy danych Oracle</entry>
							</row>
							<row>
								<entry>RS-8</entry>
								<entry>1</entry>
								<entry>Mo¿liwe bêdzie wykorzystanie bazy danych PostgreSQL</entry>
							</row>
							<row>
								<entry>RS-9</entry>
								<entry>2</entry>
								<entry>Mo¿liwe bêdzie wykorzystanie bazy danych DB2</entry>
							</row>
							<row>
								<entry>RS-10</entry>
								<entry>1</entry>
								<entry>Domy¶ln± platform± jest x86, testy wydajno¶ciowe musz± byæ spe³nione na maszynie P4 >= 3GHz, 512MB >= RAM</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
			</section>

			<section id="design.reqs.general">
				<title>Wymagania ogólne</title>
		
				<table frame="all" id="tab.reqs.general">
					<title>Wymagania ogólne</title>
					<tgroup cols="3">
						<colspec colwidth="1*"/>
						<colspec colwidth="1*"/>
						<colspec colwidth="8*"/>
						<thead>
							<row>
								<entry>Id.</entry>
								<entry>Priorytet</entry>
								<entry>Wymaganie</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry>RG-1</entry>
								<entry>1</entry>
								<entry>Istnieje mo¿liwo¶æ wyboru jêzyka, za pomoc± którego komunikujemy siê z serwisem</entry>
							</row>
							<row>
								<entry>RG-2</entry>
								<entry>1</entry>
								<entry>Zostanie utworzony polski i angielski interfejs u¿ytkownika</entry>
							</row>
							<row>
								<entry>RG-3</entry>
								<entry>1</entry>
								<entry>System umo¿liwia dodanie nowej domeny</entry>
							</row>
							<row>
								<entry>RG-4</entry>
								<entry>1</entry>
								<entry>System umo¿liwia usuniêcie istniej±cej domeny</entry>
							</row>
							<row>
								<entry>RG-5</entry>
								<entry>1</entry>
								<entry>System umo¿liwia dodanie u¿ytkownika do domeny</entry>
							</row>
							<row>
								<entry>RG-6</entry>
								<entry>1</entry>
								<entry>System umo¿liwia zmianê parametrów konta u¿ytkownika</entry>
							</row>
							<row>
								<entry>RG-7</entry>
								<entry>1</entry>
								<entry>Istnieje mo¿liwo¶æ usuniêcia konta u¿ytkownika</entry>
							</row>
							<row>
								<entry>RG-8</entry>
								<entry>1</entry>
								<entry>Istnieje mo¿liwo¶æ przegl±dania zarejestrowanych domen</entry>
							</row>
							<row>
								<entry>RG-9</entry>
								<entry>1</entry>
								<entry>Istnieje mo¿liwo¶æ przegl±dania zarejestrowanych u¿ytkowników</entry>
							</row>
							<row>
								<entry>RG-10</entry>
								<entry>1</entry>
								<entry>Istnieje mo¿liwo¶æ przegl±dania logów tworzonych przez Virtual Qmail</entry>
							</row>
							<row>
								<entry>RG-11</entry>
								<entry>2</entry>
								<entry>Istnieje mo¿liwo¶æ definiowania w³asnych raportów opartych o logu Virtual Qmail</entry>
							</row>
							<row>
								<entry>RG-12</entry>
								<entry>1</entry>
								<entry>Istnieje mo¿liwo¶æ dodania administratora systemu</entry>
							</row>
							<row>
								<entry>RG-13</entry>
								<entry>1</entry>
								<entry>Istnieje mo¿liwo¶æ usuniêcia administratora systemu</entry>
							</row>
							<row>
								<entry>RG-14</entry>
								<entry>1</entry>
								<entry>Istnieje mo¿liwo¶æ zmiany konta administratora systemu</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
			</section>
		
			<section id="design.reqs.performance">
				<title>Wymagania dotycz±ce wydajno¶ci</title>
		
				<table frame="all" id="tab.reqs.performance">
					<title>Wymagania dotycz±ce wydajno¶ci</title>
					<tgroup cols="3">
						<colspec colwidth="1*"/>
						<colspec colwidth="1*"/>
						<colspec colwidth="8*"/>
						<thead>
							<row>
								<entry>Id.</entry>
								<entry>Priorytet</entry>
								<entry>Wymaganie</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry>RP-1</entry>
								<entry>2</entry>
								<entry>System powinien byæ w stanie odpowiadaæ w czasie mniejszym ni¿ 30 sekund gdy zarejestrowanych jest 1000 domen</entry>
							</row>
							<row>
								<entry>RP-2</entry>
								<entry>2</entry>
								<entry>System powinien byæ w stanie odpowiadaæ w czasie mniejszym ni¿ 30 sekund gdy w domenie zarejestrowanych jest 10000 u¿ytkowników</entry>
							</row>
							<row>
								<entry>RP-3</entry>
								<entry>1</entry>
								<entry>Dodawanie domeny nie mo¿e trwaæ wiêcej ni¿ 30 sekund, niezale¿nie od ilo¶ci zarejestrowanych domen</entry>
							</row>
							<row>
								<entry>RP-4</entry>
								<entry>1</entry>
								<entry>Dodawanie u¿ytkownika nie mo¿e trwaæ wiêcej ni¿ 30 sekund, niezale¿nie od ilo¶ci zarejestrowanych u¿ytkowników</entry>
							</row>
							<row>
								<entry>RP-5</entry>
								<entry>1</entry>
								<entry>Zmiana has³a u¿ytkownika nie mo¿e trwaæ wiêcej ni¿ 15 sekund, niezale¿nie od ilo¶ci zarejestrowanych u¿ytkowników</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
			</section>

			<section id="design.reqs.security">
				<title>Wymagania dotycz±ce bezpieczeñstwa</title>
		
				<table frame="all" id="tab.reqs.security">
					<title>Wymagania dotycz±ce bezpieczeñstwa</title>
					<tgroup cols="3">
						<colspec colwidth="1*"/>
						<colspec colwidth="1*"/>
						<colspec colwidth="8*"/>
						<thead>
							<row>
								<entry>Id.</entry>
								<entry>Priorytet</entry>
								<entry>Wymaganie</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry>RS-1</entry>
								<entry>2</entry>
								<entry>
									Dostêp do systemu oparty bêdzie o u¿ytkowników i role, 
									przed skorzystaniem z systemu u¿ytkownik bêdzie musia³ potwierdziæ 
									swoj± to¿samo¶æ, system na podstawie konfiguracji okre¶li role nadane danemu u¿ytkownikowi</entry>
							</row>
							<row>
								<entry>RS-2</entry>
								<entry>2</entry>
								<entry>Nowy typ administratora systemu - "zwyk³y", który nie ma mo¿liwo¶ci zmiany danych innych administratorów</entry>
							</row>
							<row>
								<entry>RS-3</entry>
								<entry>2</entry>
								<entry>Nowy typ administratora system - "super", który ma mo¿liwo¶æ zmiany danych innych administratorów, oraz super administratorów</entry>
							</row>
							<row>
								<entry>RS-4</entry>
								<entry>2</entry>
								<entry>Wprowadzenie autoryzacji has³em</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
			</section>


		</section>

		<section id="design.goals">
			<title>Gole i wytyczne</title>

			<para>
				W czasie realizacji projektu nale¿y braæ pod uwagê nastêpuj±ce
				wytyczne.
			</para>

			<formalpara>
				<title>Zasada KISS</title>
				<para>
					Zachowanie zasady KISS (ang. keep it simple stupid!) - 
					architektura, algorytmy, mechanizmy u¿yte w czasie
					implementacji powinny byæ jak najprostrze. Dziêki temu
					powstanie produkt ³atwy w utrzymaniu, rozszerzaniu i
					instalacji.
				</para>
			</formalpara>

			<formalpara>
				<title>Brak przedwczesnej optymalizacji</title>
				<para>
					Optymalizacja
					mo¿e mieæ miejsce tylko i wy³±cznie po stwierdzeniu
					empirycznie faktu i¿ jest ona niezbêdna. Implementacja
					powinna skupiaæ siê na poprawno¶ci dzia³ania i 
					czytelno¶ci kodu, szybko¶æ jest spraw± nieistotn±.
				</para>
			</formalpara>
			
			<formalpara>
				<title>Szybko¶æ zwracania wszystkich wyników vs szybko¶æ zwracania pierwszych</title>
				<para>
					Liczy siê wygl±d i odczuwanie programu - powinna istnieæ
					mo¿liwo¶æ zmiany ca³ego wygl±du aplikacji zgodnie
					z ¿yczeniem klienta. W czasie operacji wykonywanych
					przy udziale u¿ytkownika system musi dzia³aæ szybko 
					- u¿ytkownik nie mo¿e byæ zmuszony do d³u¿szego czekania
					na wyniki. Istotny jest czas otrzymania pierwszych
					wyników.
				</para>
			</formalpara>
		</section>
	</section>

	<section id="strategies">
		<title>Strategia realizacji</title>

		<section id="strategies.products">
			<title>Wykorzystane produkty</title>

			<section id="strategies.products.linux">
				<title>Linux</title>
				<para>
					Pierwszym z obs³ugiwanych przez IHS systemów operacyjnych bêdzie
					Linux. Decyzja taka podjêta zosta³a dlatego, ¿e jest to jeden z
					najbardziej popularnych systemów operacyjnych instalowanych na serwerach
					w Internecie.
				</para>

				<para>
					Zdecydowano siê na wspieranie tylko 2 spo¶ród kilkuset istniej±cych
					dystrybucji Linuksa, s± to dwie najbardziej popularne dystrybucje: Fedora Core 
					(darmowa wersja, na której bazuje Red Hat Enterprise Linux) oraz OpenSuSe (darmowa
					wersja, na której bazuje SuSe Linux Enterprise Server). S± one dosyæ podobne do siebie
					co upraszcza proces tworzenia i dystrybucji oprogramowania.
				</para>

				<para>
					Obie dystrybucje oparte s± o menad¿era pakietów zwanego RPM, dziêki czemu
					³atwo utworzyæ wersjê instalacyjn±. U³atwia to zarz±dzanie oprogramowaniem,
					zachêca do wypróbowania produktu (poniewa¿ ³atwo mo¿na go odinstalowaæ).
					Pakiety tworzone przez ten program zawieraj± informacje o zale¿no¶ciach, 
					operacjach wymaganych przy aktualizacji, itp.
				</para>
			
				<para>
					Oprócz wybranych systemów planowana jest w przysz³o¶ci obs³uga innych
					Uniksów. System operacyjny Windows najprawdopodobniej nie bêdzie 
					oficjalnie wspierany.
				</para>
			</section>

			<section id="strategies.products.databases">
				<title>PostgreSQL, Oracle</title>
				<para>
					Jak ka¿dy z³o¿ony system, IHS potrzebuje do swojego dzia³ania
					bazê danych. S³u¿y ona jako magazyn dla wszelkich danych konfiguracyjnych,
					zawiera informacje o u¿ytkownikach, oraz wszelkie inne dane, które musz± byæ
					stale dostêpne.
				</para>

				<para>
					Zdecydowano siê na wykorzystanie dwóch ró¿nych relacyjnych baz danych, dziêki
					czemu mo¿na dopasowaæ system do w³asnych potrzeb. Oracle jest liderem
					na rynku komercyjnych baz danych, dlatego wybrano go jako zaplecze dla
					korporacyjnych instalacji. PostgreSQL natomiast stanowi lidera je¿eli chodzi
					o zaawansowane bazy z otwartym kodem ¼ród³owym. Ma on stanowiæ zaplecze
					dla wdro¿eñ w ¶rednich i ma³ych firmach, które nie potrzebuj± funkcjonalno¶ci
					oferowanej przez Oracle.
				</para>

				<para>
					Wybór podyktowany by³ równie¿ pewnym podobieñstwem obu tych systemów - oferuj± 
					podobne cechy takie jak widoki, procedury uruchamiane po stronie serwera, mechanizm
					spustowy. Funkcje te zosta³y wykorzystane w czasie realizacji systemu. Dlatego równie¿ MySQL,
					czyli najpopularniejsza bazy danych z otwartym kodem ¼ród³owym, nie jest aktualnie obs³ugiwana.
					Wsparcie dla tej bazy danych wymaga³oby zmianê architektury systemu.
				</para>

				<para>
					Argumentem za takim wyborem by³y równie¿ mo¿liwo¶ci systemu Virtual Qmail - system ten
					aktualnie obs³uguje tylko bazy Oracle i PostgreSQL. Poniewa¿ stanowi on integraln± czê¶æ
					IHS nale¿a³o zaimplementowaæ ich obs³ugê - aby u³atwiæ administracjê oraz zapewniæ
					jak najlepsz± integracjê.
				</para>
			</section>

			<section id="strategies.products.v-q">
				<title>Virtual Qmail</title>
				<para>
					J±drem systemu jest Virtual Qmail - jest to aplikacja u¿ywana do zarz±dzania systemem pocztowym.
					Zajmuje siê ona miêdzy innymi takimi rzeczami jak rejestrowanie czy usuwanie u¿ytkowników lub domen.
					Wraz z MTA tworzy system pocztowy, który jest ³atwy w obs³udze.
				</para>

				<para>
					IHS stanowi interfejs u¿ytkownika, który miêdzy innymi s³u¿yæ ma do zarz±dzania systemem Virtual Qmail.
					Na rynku istnieje kilka innych, podobnych do Virtual Qmail, systemów. Zdecydowano siê na wybór
					tej aplikacji poniewa¿ stanowi ona autorskie rozwi±zanie zrealizowane podczas wcze¶niejszego
					projektu, patrz NIE-2002.
				</para>
			</section>

			<section id="strategies.products.corba">
				<title>CORBA</title>
				<para>
					W celu umo¿liwienia jak naj³atwiejszej integracji Virtual Qmail z innymi systemami, np. takimi
					jak IHS, zmodernizowano komunikacjê miêdzy elementami i wprowadzono obs³ugê CORBA.
				</para>

				<para>
					Rozdzielono ca³y system na niezale¿ne us³ugi, które komunikuj± siê w razie potrzeby ze sob±.
					Ca³a komunikacja opiera siê na wywo³aniu metod za po¶rednictwem protoko³u CORBA.
					Taka implementacja pozwala na ³±czenie ze sob± czê¶ci napisanych w ró¿nych jêzykach.
				</para>
			</section>

			<section id="strategies.products.java">
				<title>Java</title>
				<para>
					Jako jêzyk implementacji systemu wybrano Java. Decyzja podyktowana by³a
					popularno¶ci± danego jêzyka w krêgu twórców serwisów internetowych, mo¿liwo¶ci±
					³atwego tworzenia aplikacji oraz pó¼niejszego utrzymania.
				</para>

				<para>
					Innymi mo¿liwymi do wykorzystania jêzykami by³y C++, PERL, PHP czy python. Na ich niekorzy¶æ
					przemawia³y m.in. nastêpuj±ce argumenty: 
					<itemizedlist>
						<listitem>
							<para>
								C++ - niewielkie wsparcie dla tworzenia zaawansowanych serwisów internetowych, d³u¿szy ni¿ w przypadku innych jêzyków
								czas wytwarzania aplikacji spowodowany wiêkszym skompilowaniem jêzyka, brakiem bibliotek oraz ¶rodowiska podobnego do J2EE;
							</para>
						</listitem>
						<listitem>
							<para>
								PERL - nieprzystosowanie jêzyka do tworzenia zaawansowanych systemów obiektowych, brak tak rozbudowanego
								¶rodowiska jak J2EE;
							</para>
						</listitem>
						<listitem>
							<para>
								PHP - niekompletne wsparcie dla CORBA;
							</para>
						</listitem>
						<listitem>
							<para>
								python - niezbêdny dodatkowy czas na poznanie jêzyka, Zope (platforma podobna do J2EE) jest mniej popularne od J2EE;
							</para>
						</listitem>
					</itemizedlist>
				</para>

				<para>
					Java w porównaniu z innymi jêzykami oferuje ³atwo¶æ tworzenia aplikacji, bardzo dobre zaplecze je¿eli chodzi o 
					sam± platformê - J2EE, jak i o dokumentacjê czy porady do¶wiadczonych u¿ytkowników. Posiada równie¿ standardowo
					obs³ugê CORBA, dziêki standardowy JDBC bardzo ³atwo tworzyæ aplikacje bazodanowe wspó³pracuj±ce z ró¿nymi RDBMS.
				</para>
			</section>

			<section id="strategies.products.jsf">
				<title>Java Server Faces</title>
				<para>
					Aby upro¶ciæ tworzenie aplikacji internetowej zdecydowano siê na wykorzystanie zyskuj±cego na popularno¶ci
					i ustandaryzowanego frameworka zwanego Java Server Faces. Jest to dodatkowa warstwa mo¿liwa do wykorzystania
					w czasie tworzenia stron JSP, która zapewnia obiektow± otoczkê do standardowych elementów dostêpnych w jêzyku HTML
					oraz JSP. Umo¿liwia równie¿ separacjê logiki biznesowej od warstwy prezentacji.
				</para>

				<para>
					Niestety w czasie implementacji wykorzystuj±cej JSF napotkano na kilka problemów, które
					spowodowa³y opó¼nienie projektu. Na podstawie nabytych do¶wiadczeñ stwierdzono, ¿e nadal
					niektóre elementy nie s± dopracowane, brakuje pewnych mechanizmów, wszystko to powoduje, ¿e
					przy bardziej skompilowanych projektach warto zastanowiæ siê nad wykorzystaniem np. Struts.
				</para>
			</section>

			<section id="strategies.products.tomcat">
				<title>Tomcat 5</title>
				<para>
					Tomcat jest jednym z najpopularniejszych serwerów servletów dostêpnych na rynku. Jego popularno¶æ umotywowana
					jest miêdzy innymi tym, ¿e jest on stale rozwijany, dostêpny za darmo, posiada równie¿ dobr± dokumentacjê i
					du¿e grono u¿ytkowników.
				</para>

				<para>
					Dodatkowo jest ³atwy w konfiguracji, posiada akceptowaln± wydajno¶æ oraz wszystkie niezbêdne funkcje, które
					wymagane s± przez projekt.
				</para>

				<para>
					W przysz³o¶ci planowana jest obs³uga innych serwerów J2EE, natomiast w chwili obecnej system jest przetestowany
					tylko z tym serwerem.
				</para>
			</section>
		</section>
	</section> <!--strategies-->

	<section id="future">
		<title>Plany na przysz³o¶æ</title>

		<formalpara>
			<title>Zwiêkszenie bezpieczeñstwa</title>
			<para>
				Aby system nadawa³ siê do szerszych zastosowañ nale¿y opracowaæ metodê zabezpieczania po³±czeñ miêdzy
				IHS a Virtual Qmail. CORBA posiada mechanizm szyfrowania i autoryzacji po³±czeñ na podstawie certyfikatów.
				Nale¿y opracowaæ i udokumentowaæ metodê wykorzystania tego mechanizmu.
			</para>
		</formalpara>
		<formalpara>
			<title>Obs³uga innych baz danych</title>
			<para>
				Poniewa¿ w MySQL 5 wprowadzono obs³ugê widoków, mechanizmu spustowego oraz procedur wykonywanych
				po stronie serwera teoretycznie istnieje mo¿liwo¶æ dodania obs³ugi tej bazy danych bez konieczno¶ci
				wiêkszych zmian po stronie Virtual Qmail czy IHS. Planowana jest równie¿ w 
				przysz³o¶ci obs³uga DB2. Jest to jedna z popularniejszych baz danych wykorzystywanych
				w korporacjach.
			</para>
		</formalpara>
		<formalpara>
			<title>Integracja z innymi aplikacjami</title>
			<para>
				Docelowo IHS ma pe³niæ rolê systemu, za pomoc± którego zarz±dzaæ bêdzie mo¿na ca³ym systemem.
				Ma to byæ kompleksowy system do zarz±dzania serwerami hostingowymi, czyli m.in. powinien pozwalaæ na:
				zarz±dzanie wirtualnymi serwerami WWW (Apache, Tomcat, itp.) i FTP (ProFTPD, pureftpd, itp.), u¿ytkownikami, 
				konfiguracjê innych us³ug sieciowych, monitorowanie stanu systemu, tworzenie ró¿nego rodzaju statystyk i zestawieñ. 
			</para>
		</formalpara>
		<formalpara>
			<title>Lepsza instalacja</title>
			<para>
				Instalacja systemu nie nale¿y do skomplikowanych, jednak zgodnie z panuj±cym trendem
				warto by³oby utworzyæ procedurê instalacji i konfiguracji zainstalowanego systemu wprost z przegl±darki.
			</para>
		</formalpara>
		<formalpara>
			<title>Obs³uga wtyczek</title>
			<para>
				System w za³o¿eniu ma byæ ³atwy do rozszerzania. Jednym z elementów potrzebnych do tego
				jest elastyczny system wtyczek, które odpowiedzialne bêd± za dodatkowe, nowe funkcje.
				U¿ytkownik bêdzie móg³ zale¿nie od potrzeb dodawaæ lub usuwaæ wtyczki modyfikuj±c w ten sposób
				mo¿liwo¶ci IHS.
			</para>
		</formalpara>
		<formalpara>
			<title>Obs³uga ró¿nych tematów graficznych</title>
			<para>
				Po¿±dan± cech± systemu jest mo¿liwo¶æ dostosowania wygl±du aplikacji
				do upodobañ poszczególnych u¿ytkowników. Dziêki zastosowaniu CSS
				wprowadzenie takiego mechanizmu powinno byæ ³atwe.
			</para>
		</formalpara>
	</section>

	<section id="strategies.errors">
		<title>Obs³uga b³êdów</title>

		<para>
			W czasie dzia³ania aplikacji mog± wyst±piæ nieprzewidziane
			sytuacje, które mog± wp³yn±æ na dzia³anie systemu, np. spowodowaæ,
			¿e niektórych czynno¶ci nie da siê wykonaæ.
		</para>

		<para>
			Tworz±c system nale¿y pamiêtaæ o takich sytuacjach i zak³adaæ,
			¿e mog± siê one pojawiæ w dowolnym momencie, dlatego nale¿y
			zwróciæ uwagê na obs³ugê wszelkich b³êdów.
		</para>

		<para>
			Nie mo¿na ignorowaæ warto¶ci zwracanych przez funkcje czy wyj±tków.
			Wszystkie one musz± byæ otoczone odpowiedni± obs³ug±, która
			zapewni, ¿e w przypadku b³êdu odpowiednia informacja zostanie
			przedstawiona u¿ytkownikowi (komunikat o b³êdzie a nie
			pusta strona), istotne jest równie¿ aby b³êdy by³y zapisywane
			po stronie serwera.
		</para>

		<para>
			Poniewa¿ ¶rodowisko u¿ytkownika jest poza kontrol±, nale¿y
			zapewniæ mo¿liwo¶æ odtworzenia czynno¶ci, które doprowadzi³y
			do zaistnienia b³êdu. Bardzo pomocne w tym celu s± odpowiednie
			logi zapisywane po stronie serwera. Nale¿y zapisywaæ wszelkie informacje,
			które mog± pomóc w wykryciu i ustaleniu przyczyn awarii.
		</para>
	</section>

	<section id="strategies.database">
		<title>Baza danych</title>

		<para>
			IHS domy¶lnie bêdzie korzysta³ tylko z jednej instancji bazy
			danych. Inne konfiguracje musz± byæ zaimplementowane
			przez administratora systemu.
		</para>

		<para>
			W bazie danych zapisywane bêd± wszelkie informacje, które
			maj± byæ dostêpne przez d³u¿szy okres (ni¿ sesja u¿ytkownika),
			a które nie s± na tyle du¿e (wiêcej ni¿ kilka megabajtów) aby
			utrudnia³y korzystanie z bazy.
		</para>

		<para>
			Systemy, z którymi IHS bêdzie zintegrowany, np. Virtual Qmail,
			mog± posiadaæ swoje w³asne bazy danych. Je¿eli istnieje
			taka mo¿liwo¶æ nie powinny one byæ wykorzystywane bezpro¶rednio
			lecz przy u¿yciu API dostarczanego przez dan± aplikacjê.
			Takie podej¶cie umo¿liwi ³atwiejsz± konfiguracjê i utrzymanie.
		</para>

		<para>
			W przypadkach gdy takie API nie istnieje nale¿y zastanowiæ siê
			nad wydzieleniem osobnych elementów, które bêd± odpowiedzialne 
			za obs³ugê zewnêtrznej bazy danych. Nale¿y równie¿ pamiêtaæ
			o tym ¿eby takie komponenty mo¿na by³o konfigurowaæ za pomoc±
			IHS. Nie wolno u¿ywaæ zakodowanych na sta³e ¶cie¿ek, hase³,
			u¿ytkowników czy nazw baz danych.
		</para>
	</section>

	<section id="architecture">
		<title>Architektura systemu</title>

        <figure id="figure.architecture.overall">
            <title>Wysokopoziomowa architektura systemu</title>
            <graphic fileref="../imgs/Overall_architecture.png" format="PNG"/>
        </figure>

		<para>	
			<xref linkend="figure.architecture.overall"/> przedstawia
			jeden z najbardziej skomplikowanych przypadków gdy ka¿dy
			z elementów znajduje siê na innym systemie operacyjnym.
		</para>

		<para>
			System umo¿liwia ³atwe przenoszenie us³ug i wykorzystywanie
			w pe³ni istniej±cej mocy obliczeniowej. W wiêkszo¶ci przypadków
			jednak wykorzystywana bêdzie architektura zawieraj±ca wszystkie
			elementy na tym samym serwerze.
		</para>

		<para>
			W przysz³o¶ci w miarê rozstastania siê mo¿liwo¶ci IHS i 
			integrowania go z innymi us³ugami architektura systemu mo¿e
			zawieraæ znacznie wiêcej elementów.
		</para>

		<para>
			Virtual Qmail i IHS komunikuj± siê za pomoc± protoko³u CORBA,
			bazy danych wykorzystywane s± za pomoc± protoko³u JDBC.
		</para>

		<formalpara>
			<title>Virtual Qmail</title>
			<para>
				Odpowiedzialny jest za zarz±dzaniem systemem pocztowy.
				Aplikacja zarz±dza plikami konfiguracyjnymi MTA, tworzy
				odpowiednie struktury na dysku, przechowuje informacje
				o u¿ytkownikach.
			</para>
		</formalpara>

		<formalpara>
			<title>Virtual Qmail DB</title>
			<para>
				Baza danych obs³uguj±ca Virtual Qmail. IHS nie powinien
				z niej korzystaæ bezpo¶rednio tylko za pomoc± 
				API udostêpnianego przez V-Q. Jednak¿e mog± istnieæ przypadki
				gdy tylko bezpo¶redni dostêp pozwoli osi±gn±æ oczekiwan±
				funkcjonalno¶æ.
			</para>
		</formalpara>

		<formalpara>
			<title>Incredible Hosting System</title>
			<para>
				Jest to interfejs WWW umo¿liwiaj±cy administracjê
				Virtual Qmailem. Dzia³a w ¶rodowisku J2EE. Sk³ada siê
				ze stron JSP, Servletów.
			</para>
		</formalpara>

		<formalpara>
			<title>Incredible Hosting System DB</title>
			<para>
				Baza danych wy³±cznie na us³ugi IHS. Zawiera konfiguracjê
				oraz inne niezbêdne dane.
			</para>
		</formalpara>
		
        <figure id="figure.architecture.ihsdb">
            <title>Architektura bazy IHS</title>
            <graphic fileref="../imgs/IHSDatabaseArchitecture.png" format="PNG"/>
        </figure>

		<para>	
			<xref linkend="figure.architecture.ihsdb"/> przedstawia
			sk³adowe bazy danych. Wykorzystywane s± nastêpuj±ce mechanizmy: 
			tabele, widoki, wbudowane procedury. Po³o¿ony jest szczególny
			nacisk na uniezale¿nienie od siebie poszczególnych systemów,
			wiêkszo¶æ operacji na bazie danych wykonywana jest za pomoc±
			procedur, dane pobierane s± w oparciu o widoki. Takie podej¶cie
			umo¿liwia optymalizacjê struktury samej bazy danych bez
			konieczno¶ci modyfikacji elementów korzystaj±cych z niej.
			Dodatkow± zalet± takiego podej¶cia jest wspó³dzielenie kodu
			operuj±cego na danych. Wszelkie aplikacje mog± korzystaæ
			z tych samych procedur, dziêki czemu administracja ca³ym
			systemem zostaje uproszczona.
		</para>

		<section id="subarch">
			<title>Architektura podsystemów</title>

			<section id="subarch.ihsdb">
				<title>Baza danych IHS</title>

		        <figure id="figure.architecture.ihsdb.details">
        		    <title>Logiczny model bazy danych IHS</title>
		            <graphic fileref="../imgs/IHSDBLogicalmodel.png" format="PNG"/>
		        </figure>
		
				<para>	
					<xref linkend="figure.architecture.ihsdb.details"/> przedstawia
					logiczny model bazy danych.
				</para>

				<para>
					Przedstawione powy¿ej typy aktualnie zdefiniowane
					s± nastêpuj±co:
				</para>

				<table frame="all" id="tab.architecture.ihsdb.details">
					<title>Typy danych u¿ywane w bazie IHS</title>
					<tgroup cols="2">
						<colspec colwidth="1*"/>
						<colspec colwidth="1*"/>
						<thead>
							<row>
								<entry>Typ</entry>
								<entry>Definicja (dla Oracle)</entry>
							</row>
						</thead>
						<tbody>
							<row>
								<entry>ihs_config_key_type</entry>
								<entry>varchar2(1024)</entry>
							</row>
							<row>
								<entry>ihs_config_value_type</entry>
								<entry>varchar2(1024)</entry>
							</row>
							<row>
								<entry>ihs_administrator_login_type</entry>
								<entry>varchar2(512)</entry>
							</row>
							<row>
								<entry>ihs_administrator_password_type</entry>
								<entry>varchar2(512)</entry>
							</row>
						</tbody>
					</tgroup>
				</table>
			</section>

			<section id="subarch.ihs">
				<title>Architektura IHS</title>

				<figure id="figure.architecture.ihs.details">
        		    <title>Architektura IHS</title>
		            <graphic fileref="../imgs/IHSArchitecture.png" format="PNG"/>
		        </figure>
		
				<para>	
					<xref linkend="figure.architecture.ihs.details"/> przedstawia
					wysokopoziomow± architekturê IHS. Poni¿ej znajduje
					siê krótki opis poszczególnych elementów.
				</para>

				<formalpara>
					<title>Configuration</title>
					<para>
						Konfiguracja u¿ywana przez serwer J2EE oraz pliki
						wykorzystywane przez Java Server Faces.
					</para>
				</formalpara>
				<formalpara>
					<title>Static Files</title>
					<para>
						Statyczne pliki takie jak t³umaczenia,
						arkusze stylów CSS, pliki graficzne.
					</para>
				</formalpara>
				<formalpara>
					<title>JSF pages</title>
					<para>
						Strony JSF, stanowi± one interfejs u¿ytkownika.
					</para>
				</formalpara>
				<formalpara>
					<title>Libraries</title>
					<para>
						Wnêtrze systemu. Biblioteki zawieraj± kod
						komunikuj±cy siê z bazami danych, z systemem Virtual
						Qmail. Czê¶æ plików tworzona jest na podstawie opisu IDL.
					</para>
				</formalpara>
				<formalpara>
					<title>Backing beans</title>
					<para>
						Stanowi± warstwê po¶rednicz±c± miêdzy interfejsem
						u¿ytkownika a bibliotekami. Tutaj znajduj± siê
						obiekty obs³uguj±ce sesjê u¿ytkownika, itp.
					</para>
				</formalpara>
			</section>
		</section>
	</section>
</chapter>
