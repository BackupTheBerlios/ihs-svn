System plików jest tworzony (inicjalizowany) przez mkfs. Aktualnie
istnieje kilka osobnych programów dla każdego systemu plików.
Polecenie mkfs pośredniczy między nimi a użytkownikiem. Typ wybierany
jest za pomocą opcji -t typ.

Programy wywoływane przez mkfs mogą wymagać innych opcji. Wspólne i
najważniejsze podane są poniżej; zobacz odpowiednie strony
podręcznika.

'''-t typ'''

       Wybierz system plików.

'''-c'''

       Sprawdź czy są jakieś zepsute bloki, inicjalizuj listę złych
       bloków odpowiednio.

'''-l plik'''

       Odczytaj z pliku listę złych bloków.

Aby na dyskietce utworzyć system plików ext2 należy wykonać
następujące polecenia:
{{{
$ fdformat -n /dev/fd0H1440
Double-sided, 80 tracks, 18 sec/track. Total capacity 1440 kB.
Formatting ... done
$ badblocks /dev/fd0H1440 1440 $>$ bad-blocks
$ mkfs -t ext2 -l bad-blocks /dev/fd0H1440
mke2fs 0.5a, 5-Apr-94 for EXT2 FS 0.5, 94/03/10
360 inodes, 1440 blocks
72 blocks (5.00%) reserved for the super user
First data block=1
Block size=1024 (log=0)
Fragment size=1024 (log=0)
1 block group
8192 blocks per group, 8192 fragments per group
360 inodes per group

Writing inode tables: done
Writing superblocks and filesystem accounting information: done
$
}}}

Najpierw sformatowano dyskietkę ( opcja -n wyłącza sprawdzanie
występowania złych bloków ), później sprawdziliśmy czy dyskietka nie
posiada zepsutych obszarów za pomocą programu badblocks, wyjście
skierowaliśmy do pliku. Ostatecznie stworzyliśmy system plików,
zainicjowaliśmy listę złych bloków zawartością pliku.

Można było użyć opcji -c programu mkfs, zamiast uruchamiać program
badblocks Poniższy przykład działa tak:
{{{
$ mkfs -t ext2 -c /dev/fd0H1440
mke2fs 0.5a, 5-Apr-94 for EXT2 FS 0.5, 94/03/10
360 inodes, 1440 blocks
72 blocks (5.00%) reserved for the super user
First data block=1
Block size=1024 (log=0)
Fragment size=1024 (log=0)
1 block group
8192 blocks per group, 8192 fragments per group
360 inodes per group

Checking for bad blocks (read-only test): done
Writing inode tables: done
Writing superblocks and filesystem accounting information: done
$
}}}

Opcja -c jest pewniejsza niż użycie badblocks, jednak program
badblocks jest niezbędny do sprawdzania istniejących systemów plików.

Aby przygotować dysk należy wykonać podobne czynności, przy czym
formatowanie nie jest potrzebne.
