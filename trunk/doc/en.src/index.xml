<?xml version="1.0" encoding="iso-8859-2"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
	[
	<!ENTITY biblio SYSTEM "biblio.xml"> 	
	]
>
<book lang="en">
	<bookinfo>
		<title>Incredible hosting system</title>
		<authorgroup>
			<author>
				<firstname>Pawe³</firstname>
				<surname>Niewiadomski</surname>
			</author>
		</authorgroup>
		<copyright>
			<year>2005</year>
			<holder><ulink url="http://foo-baz.com">foo-baz.com</ulink></holder>
		</copyright>
	</bookinfo>

	<preface id="foreword">
		<title>Foreword</title>

		<para>
		</para>
	</preface>

	<chapter id="intro">
		<title>Introduction</title>

		<para>
			This chapter includes short description of this project. 
			List of the most important requirements and limitations.
			Environment which project will be implemented in. 
			Description of the most important terms.
		</para>

		<para>
			Following document represents design documentation related
			with project. It includes following chapters: introduction
			to the system, design considerations, system architecture,
			policies and strategies, detailed system design, glossary,
			bibliography.
		</para>
		
		<para>
			To fully undestand this work some IT knowledge is required,
			there are many terms and acronyms related with this area
			that may not be explained because they are very common
			and known. Audience are system administrators that will
			use this system and developers that would want to extend it.
			Some parts may be usefull to the users.
		</para>

		<para>
			Project described in this document will be released
			under Incredible Hosting System name or shorter as
			<glossterm>IHS</glossterm>. Those names will be often used as
			a relation to the whole work. Some part of the IHS is
			administrators web interface that will be presented as
			my master thesis. Because this element can't exist without
			some other elements following work includes information about all
			of them.
		</para>

		<para>
			To become more familiar with project's goals, 
			desicions made the reader should also check
			my previous thesis titled "Free E-Mail System" - NIE-2003 
			(only in Polish). IHS is based on an experience gained during
			realization of the previous project. It is a new step
			forward in creating integrated environment for managing 
			e-mail and hosting systems.
		</para>
	</chapter>

	<chapter id="overview">
		<title>Introduction to the system</title>
		
		<para>
			IHS will be a platform for e-mail and hosting systems
			for different environments - small and medium companies for
			their employees or service providers offering free or
			paid services.
		</para>

		<para>
			It's a complicated task to build such system - it requires
			integration of many existing applications, i.e. - following
			systems must be glued together - WWW server, MTA,
			FTP server, database. It must be also possible to integrate
			system with some other applications that are specific
			to client's environment.
		</para>

		<para>
			Framework must be build that will allow to administrate
			all those applications throught one, unified interface.
			It will be a centralized environment for users, administrators
			and developers. Offering common functions independently
			of elements used, also API should be generic and flexible
			enough to allow sophisticated software to be build on a base
			of created system.
		</para>

		<para>
			IHS will be based on following applications and technologies:
			<itemizedlist>
				<listitem>
					<para>	
						Apache as a WWW server;
					</para>
				</listitem>
				<listitem>
					<para>
						PostgreSQL as a default database;
					</para>
				</listitem>
				<listitem>
					<para>
						ProFTPD as a default FTP server;
					</para>
				</listitem>
				<listitem>
					<para>
						qmail and Virtual Qmail as MTA;
					</para>
				</listitem>
				<listitem>
					<para>
						CORBA as a services' communication protocol;
					</para>
				</listitem>
				<listitem>
					<para>
						J2EE for the integrated management system.
					</para>
				</listitem>
			</itemizedlist>
		</para>

		<para>
			Many other applications will be used to build the system. List 
			is very long, only the most important were listed above.
		</para>

		<para>
			Implementation is based only on an open source or free
			software, all created artefacts will be released
			also as the source code. This will guarantee maximum
			of flexibility for users. <ulink url="http://foo-baz.com/">foo-baz.com</ulink>
			company offers services related with installation, integration
			or maitenance of IHS in client's environment.
		</para>
	</chapter>

	<chapter id="considerations">
 		<title>Design considerations</title>
 
 		<para>
			Chapter includes information about decisions made and
			issues that must be resolved during implementation.
 		</para>

		<section id="cons.rel">
			<title>Software and hardware</title>
			<para>
				IHS will be based on a system compatible with Unix,
				default will be Linux. Target group includes also
				OpenBSD (and other *BSD), Solaris. In the beginning
				there will be used two Linux distributions - SuSe and
				Fedora Core. These are the most popular distributions,
				they are often used on servers.
			</para>

			<para>
				IHS will require such elements as WWW server, J2EE 
				application server, MTA, FTP server. It will be
				possible to use different applications for any of 
				this elements. That's why product must be modular 
				with compatible changeable parts.
			</para>
			
			<para>
				Because only x86 hardware platform will be available during
				implementation project will be based on it.
				But it's possible that in the future project will be ported
				to other platforms as well. IA-64 architecture is getting
				more and more popular on servers and it would be great
				to start using this software on mentioned platform
				as soon as possible.
			</para>
		</section>

		<section id="cons.users">
			<title>Target users</title>

			<para>
				Target groups of users:
				<itemizedlist>
					<listitem>
						<para>
							regular users - don't have or have some basic
							knowledge about systems internals,
							they are interested only in using services
							offered by the system, IT knowledge is
							not required from them; lowest privileges;
						</para>
					</listitem>
					<listitem>
						<para>
							domain administrators - they have some
							knowledge about services offered by the system,
							they know how to use them for their own
							profit, they know how to configure 
							offered services (turning on, turning off, etc.),
							IT knowledge is not required from them;
							privileges extended by basic administration
							of assiociated domains;
						</para>
					</listitem>
					<listitem>
						<para>
							system administrators - they have 
							the knowledge about the environment in which
							IHS runs, they know how to install or configure
							whole applications in this environment, they
							should have knowledge about software used by
							IHS (installation and configuration of
							required applications), they have basic
							knowledge of IHS; they have unlimited
							privileges;
						</para>
					</listitem>
					<listitem>
						<para>
							developers - they have knowledge
							about services offered by IHS, they
							are familiar with sytem's architecture,
							used database systems, configuration,
							communication protocols, available API;
							informations like operating system running
							IHS, used software should be meaningless for
							they; they are not direct users of the system;
						</para>
					</listitem>
				</itemizedlist>
			</para>

			<para>
				Each of described groups must be dynamically 
				recognized. One IHS installation must be able to
				service functions for any member of any group; 
				users and groups are recognized using informations stored
				in the system and those given by the user. There
				should be a possibility to limit access to installation
				only to some groups.
			</para>
		</section>

		<section id="cons.constraints">
			<title>Basic constraints</title>

			<para>
				Project will work in networked environment, in client-server
				achitecture. Usually users will use available resources 
				using some network applications like: e-mail client, 
				network browser, FTP client, etc.
			</para>

			<para>
				To support the largest group of users (assuming that software
				used by them work properly) with services available in the
				system all services must comply with common standards or
				regulations. System should be tested with most popular
				applications like: Firefox, Internet Explorer, Thunderbird,
				Outlook Express, Outlook, Opera, The Bat. From time to time
				it should be also tested with some less popular applications.
			</para>

			<para>
				Very important is a security of the system - global or 
				service based; high availability. Because one of the
				target environments are systems accessible for any one
				it must be ensured that system can handle malicious users
				or network worms, etc. Architecture and procedures used
				in the system must be created with security in mind.
			</para>

			<para>
				Because system is create as a open source software
				without sponsors or other income sources all additional actions
				must be cut to the minimum. Same time it must be remembered
				that testing is not one of those actions. Unit and integration
				testing are very important in keeping good quality of the
				product which is very important. Only product of good
				quality will have a chance to exist in the market.
				That's why testing should be done at the same
				time as the development or even before it as test driven
				development says.
			</para>
		</section>
 	</chapter>

	<chapter id="current">
		<title>Current system, requirements analize</title>

		<para>
			Because thesis subject is a modernization of existing system
			current system should be described first. System was created
			as a bachelor thesis of Pawe³ Niewiadomski, subject was 
			"Free e-mail hosting". During that project software was 
			created that offered users basic functionality of such system. 
		</para>

		<para>
			Users were able to create, remove and configure basic 
			options throught <glossterm>WWW</glossterm> pages.
			Options offered were comparable to other similar systems,
			ie. it was possible to setup mail redirection, automatic
			responses. Access to e-mails stored within server
			was possible througth standard <glossterm>POP3</glossterm> protocol
			and WWW site.
		</para>

		<para>
			Administrator was able, throught WWW, to see basic
			statistics, to modify existing accounts. Project didn't
			include advanced configuration options for administrators. Main 
			aim was to create system that users were able to use.
			This way system created could be maintained only by
			experienced administrators.
		</para>

		<para>
			On a base of e-mail system there was designed and created 
			hosting system with additional functions as managing
			users' WWW sites, configuration of those sites via WWW.
			Users gained also an ability to see statistics of their
			own sites registered within system. There was still lack
			of tools for administrators. Some options were not implemented
			because of short time and costs reduction.
		</para>

		<para>
			Basic technical informations about previous system:
			<itemizedlist>
				<listitem>
					<para>
						Operating system: Linux, Slackware distribution
					</para>
				</listitem>
				<listitem>
					<para>
						WWW server: Apache 1.3
					</para>
				</listitem>
				<listitem>
					<para>
						<glossterm>FTP</glossterm> server: ProFTPD
					</para>
				</listitem>
				<listitem><para><glossterm>MTA</glossterm>: Qmail+Virtual Qmail</para></listitem>
				<listitem><para>Main database: PostgreSQL</para></listitem>
				<listitem><para>Databases for users: MySQL, PostgreSQL</para></listitem>
			</itemizedlist>
			Main application was written mainly in C++, some parts also
			in PHP and PERL, shell scripts. For full description 
			see NIE-2002.
		</para>

		<para>
			One of major drawbacks of created system was that it was
			only a single setup, it was not flexible enough.
			to support different needs of administrators. Installation
			process was really hard. That's why main goal of this 
			thesis is a modernization of existing system to comply with
			following requirements. Some requirements are already
			implemented, they are marked.
		</para>

		<section id="current.req.biz">
			<title>Buissines requirements</title>

			<table frame="all" id="tab.req.biz">
				<title>Buissines requirements</title>
				<tgroup cols="4">
					<colspec colwidth="1*"/>
					<colspec colwidth="7*"/>
					<colspec colwidth="2*"/>
					<colspec colwidth="1*"/>
					<thead>
						<row>
							<entry>Id.</entry>
							<entry>Requirement</entry>
							<entry>Already implemented</entry>
							<entry>Priority</entry>
						</row>
					</thead>
					<tbody>
						<row>
							<entry>WB-1</entry>
							<entry>Mailbox for users</entry>
							<entry>1</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WB-2</entry>
							<entry>Users' WWW sites</entry>
							<entry>1</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WB-3</entry>
							<entry>Free and comercials accounts can coexist at the same time</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WB-4</entry>
							<entry>Payments throught Internet</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WB-5</entry>
							<entry>Commercial accounts which users didn't pay for must be removed after trial period (or validity period)</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WB-6</entry>
							<entry>Payments are not only for creating accounts but also for extending limits such as: transfer limit, quota, etc.</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WB-7</entry>
							<entry>For all commercial services there is 14 days trial period</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WB-8</entry>
							<entry>Commerial users have money back guarantee within 30 days after first payment (quality or money back guarantee).</entry>
							<entry>0</entry>
							<entry>2</entry>
						</row>
						<row>
							<entry>WB-9</entry>
							<entry>For all payments there is a possibility to order tax document</entry>
							<entry>0</entry>
							<entry>2</entry>
						</row>
						<row>
							<entry>WB-10</entry>
							<entry>For commercial accounts removed after 30 days of trial period money are not returned</entry>
							<entry>0</entry>
							<entry>2</entry>
						</row>
						<row>
							<entry>WB-11</entry>
							<entry>Interface language can be chosen</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WB-12</entry>
							<entry>E-mail is user's identificator</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WB-13</entry>
							<entry>When user creates account in system without creating e-mail service given address must be verified</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
					</tbody>
				</tgroup>
			</table>
		</section>

		<section id="current.req.user">
			<title>User requirements</title>

			<table frame="all" id="tab.req.user">
				<title>User requirements</title>
				<tgroup cols="4">
					<colspec colwidth="1*"/>
					<colspec colwidth="7*"/>
					<colspec colwidth="2*"/>
					<colspec colwidth="1*"/>
					<thead>
						<row>
							<entry>Id.</entry>
							<entry>Requirement</entry>
							<entry>Already implemented</entry>
							<entry>Priority</entry>
						</row>
					</thead>
					<tbody>
						<row>
							<entry>WU-1</entry>
							<entry>User may register an account for himself (depends on system's configuration)</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WU-2</entry>
							<entry>It's possible to limit services that user can use</entry>
							<entry>0</entry>
							<entry>2</entry>
						</row>
						<row>
							<entry>WU-3</entry>
							<entry>User may remove his/her account</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WU-4</entry>
							<entry>User may resign from services that he/she used (ie. remove WWW site)</entry>
							<entry>0</entry>
							<entry>2</entry>
						</row>
						<row>
							<entry>WU-5</entry>
							<entry>User has access to statistics for services he/she uses</entry>
							<entry>1</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WU-6</entry>
							<entry>User is allowed to configure services related to his/her account</entry>
							<entry>1</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WU-7</entry>
							<entry>User's account can be registered without any services connected to it</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WU-8</entry>
							<entry>English and Polish interface will be registered</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WU-10</entry>
							<entry>E-mail service allows users to send and receive e-mails, user's e-mail address is given by user</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WU-11</entry>
							<entry>WWW service means virtual server for WWW pages that is maintained by user</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WU-12</entry>
							<entry>Subversion service means Subversion repository created for user</entry>
							<entry>0</entry>
							<entry>2</entry>
						</row>
						<row>
							<entry>WU-13</entry>
							<entry>It is possible to recover lost password for an account or a service</entry>
							<entry>0</entry>
							<entry>2</entry>
						</row>
						<row>
							<entry>WU-14</entry>
							<entry>User may use many services of the same type</entry>
							<entry>0</entry>
							<entry>1</entry>
						</row>
						<row>
							<entry>WU-15</entry>
							<entry>Database service means separate database created for user</entry>
							<entry>0</entry>
							<entry>2</entry>
						</row>
					</tbody>
				</tgroup>
			</table>
		</section>
	</chapter>

	&biblio;

</book>
	
