%define datadir %{_localstatedir}/vq
%define project ihs

%ifarch ia64
# disable debuginfo on IA64
%define debug_package %{nil}
%endif

Summary: Incredible Hosting System
Name: ihs-%{_vendor}
Version: @VERSION@
Release: 1
URL: http://ihs.foo-baz.com/
Vendor: http://foo-baz.com/
Packager: Pawel Niewiadomski <new@foo-baz.com>
Source0: %{project}-%{version}.tar.gz
License: GPL
Group: System Environment/Daemons
BuildRoot: %{_tmppath}/%{project}-root
BuildPrereq: findutils, perl, boost-devel >= 1.31.0, omniORB-devel >= 4.0.5-1
BuildPrereq: libpqxx-devel >= 2.5.0, openssl-devel >= 0.9.7
Prereq: /sbin/chkconfig, /bin/mktemp, /bin/rm, /bin/mv, /usr/sbin/useradd, /usr/sbin/groupadd
Prereq: sh-utils, textutils, /sbin/ldconfig
Requires: omniORB >= 4.0.5-1, boost >= 1.31.0, daemontools >= 0.76
Requires: %{project}-iauth = %{version}, %{project}-ilogger = %{version}
Provides: %{project}-ivq = %{version}, %{project} = %{version}

%description
Virtual Qmail is a virtual domains manager that integrates with Qmail.

%package pgsql
Group: System Environment/Daemons
Summary: Implementation of iauth and ilogger interfaces using PostgreSQL
Requires: libpqxx >= 2.5.0, %{project} = %{version}
Requires: daemontools >= 0.76
Provides: %{project}-iauth = %{version}, %{project}-ilogger = %{version}

%description pgsql
This package includes implementation of Virtual Qmail interfaces: 
 * iauth which is used to store informations in a database
 * ilogger which is used to store logs in a database

Implementation is based on PostgreSQL and libpqxx.

%prep

%build

%install

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)

%changelog
* Wed Dec 21 2005 Pawel Niewiadosmki <new@foo-baz.com> 1
- First version

